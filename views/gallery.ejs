<%- include('partials/s-top') %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <div class="hidden-header"
        style="background-image: url(/img/banners/gallery.avif); min-height: 25vh; background-size: cover; background-position: center; transition: all 0.8s ease;">
        <%- include('partials/header') %>
    </div>







    <style>
        body {
            background-color: #edebe7;
        }


        .scroll {
            position: relative;
            display: flex;
            width: 100%;
            overflow: hidden;
            height: 100vh;
            align-items: center;
            position: absolute;
            top: 0;

            margin-top: 30px;
            margin-bottom: 30px;
        }

        .scroll div {
            white-space: nowrap;
            animation: scroll var(--time) linear infinite;
            animation-delay: calc(var(--time)*-1);

        }

        .scroll div:nth-child(2) {
            animation: scroll2 var(--time) linear infinite;
            animation-delay: calc(var(--time)/-2);
        }

        @keyframes scroll {
            0% {
                transform: translateX(100%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        @keyframes scroll2 {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(-200%);
            }
        }


        .imgBox div {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .single {

            height: 350px;
            width: 225px;
            background-size: cover;
            background-position: center;
            align-items: flex-end;
            font-size: 20px;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            flex-shrink: 0;
            color: white;
            margin: 10px;
            white-space: normal;
            display: inline-flex;
            transition: 0.5s;
            cursor: pointer;

        }
    </style>

    <style>
        .hidden-header {

            transform: translateY(-100%);
        }

        footer {
            transition: all 1s ease;
            transform: translateX(-100%);
        }

        footer.show {
            transform: none;
        }

        /* 1st, 4th, 7th, ... */
        .animating .single:nth-child(4n+1) {
            transform: translateY(-350%);
        }

        /* 2nd, 5th, 8th, ... */
        .animating .single:nth-child(4n+2) {
            transform: translateY(330%);
        }

        /* 3rd, 6th, 9th, ... */
        .animating .single:nth-child(4n+3) {
            transform: translateY(-250%);

        }

        .animating .single:nth-child(4n+4) {
            transform: translateY(230%);
        }

        .single:nth-child(3n+1) {
            transition: 1s;
        }

        /* 2nd, 5th, 8th, ... */
        .single:nth-child(3n+2) {
            transition: 1.2s;
        }

        /* 3rd, 6th, 9th, ... */
        .single:nth-child(3n+3) {
            transition: 0.8s;

        }



        .scroll:hover div {
            animation-play-state: paused;
        }


        .h3 {
            font-family: "Bacalisties", sans-serif;
            color: var(--gold);
            text-align: center;
            margin-top: 20px;
            transition: all 3s ease;
            opacity: 0;
        }
    </style>
    <h3 class="h3">
        Explore some of the beautiful weddings that have been celebrated at Alyasa Village.
    </h3>

    <div class="scroll animating" style="--time:50s">
        <div>
            <% weddings.forEach(wedding=> { %>
                <span class="single 123"
                    style="background-image: url('/img/gallery/<%= wedding %>/<%= wedding %> Alyasa Village (1).avif');">
                    <%= wedding %>
                </span>
                <% }); %>
                    <% weddings.forEach(wedding=> { %>
                        <span class="single 123"
                            style="background-image: url('/img/gallery/<%= wedding %>/<%= wedding %> Alyasa Village (1).avif');">
                            <%= wedding %>
                        </span>
                        <% }); %>
        </div>
        <div>
            <% weddings.forEach(wedding=> { %>
                <span onclick="openGallery('<%= wedding %>')" class="single"
                    style="background-image: url('/img/gallery/<%= wedding %>/<%= wedding %> Alyasa Village (1).avif');">
                    <%= wedding %>
                </span>
                <% }); %>
                    <% weddings.forEach(wedding=> { %>
                        <span onclick="openGallery('<%= wedding %>')" class="single"
                            style="background-image: url('/img/gallery/<%= wedding %>/<%= wedding %> Alyasa Village (1).avif');">
                            <%= wedding %>
                        </span>
                        <% }); %>
        </div>
    </div>

    <script>
        //on page load remove hidden header after 2 seconds remove the class hidden header from the element
        window.onload = function () {
            document.querySelector(".animating").classList.remove("animating");
            setTimeout(function () {
                const scroll = document.querySelector(".scroll");
                //make position relative
                scroll.style.height = "auto";
                scroll.style.position = "relative";
                document.querySelector(".hidden-header").classList.remove("hidden-header");
                document.querySelector("footer").classList.add("show");
                document.querySelector(".h3").style.opacity = 1;
                //document.querySelector(".animating").classList.remove("animating");
            }, 2000);
        };


        const WElements = document.querySelectorAll(".single");

        function openGallery(text) {
            const link = `/gallery/${text}`;
            //open link
            window.location.href = link;
        }





    </script>

    <%- include('partials/footer') %>
        <%- include('partials/s-bottom') %>